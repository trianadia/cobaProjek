{"version":3,"file":"client.mjs","names":[],"sources":["../../../src/plugins/multi-session/client.ts"],"sourcesContent":["import type { BetterAuthClientPlugin } from \"@better-auth/core\";\nimport type { DBFieldAttribute } from \"@better-auth/core/db\";\nimport type { multiSession } from \".\";\n\nexport type MultiSessionClientOptions = {\n\tschema?:\n\t\t| {\n\t\t\t\tuser?:\n\t\t\t\t\t| {\n\t\t\t\t\t\t\tadditionalFields?: Record<string, DBFieldAttribute> | undefined;\n\t\t\t\t\t  }\n\t\t\t\t\t| undefined;\n\t\t\t\tsession?:\n\t\t\t\t\t| {\n\t\t\t\t\t\t\tadditionalFields?: Record<string, DBFieldAttribute> | undefined;\n\t\t\t\t\t  }\n\t\t\t\t\t| undefined;\n\t\t  }\n\t\t| undefined;\n};\n\nexport const multiSessionClient = <O extends MultiSessionClientOptions>(\n\toptions?: O | undefined,\n) => {\n\treturn {\n\t\tid: \"multi-session\",\n\t\t$InferServerPlugin: {} as ReturnType<typeof multiSession<O>>,\n\t\tatomListeners: [\n\t\t\t{\n\t\t\t\tmatcher(path) {\n\t\t\t\t\treturn path === \"/multi-session/set-active\";\n\t\t\t\t},\n\t\t\t\tsignal: \"$sessionSignal\",\n\t\t\t},\n\t\t],\n\t} satisfies BetterAuthClientPlugin;\n};\n\nexport type { MultiSessionConfig } from \"./index\";\n"],"mappings":";AAqBA,MAAa,sBACZ,YACI;AACJ,QAAO;EACN,IAAI;EACJ,oBAAoB,EAAE;EACtB,eAAe,CACd;GACC,QAAQ,MAAM;AACb,WAAO,SAAS;;GAEjB,QAAQ;GACR,CACD;EACD"}